## HTTP协议原理

### HTTP协议主要特点

- 支持C/S模式
- 简单快速
- 灵活
- 无状态

### HTTP请求报文

由请求行,请求报头,空行,请求数据4个部分组成.

1. 请求行

请求方法:

- GET请求获取Request-URI所标识的资源。
- POST在Request-URI所标识的资源后附加新的数据
- HEAD:请求获取由Request-URI所标识的资源的响应消息报头。
- PUT：请求服务器存储一个资源，并用Request-URI作为其标识。
- DELETE：请求服务器删除Request-URI所标识的资源。
- TRACE：请求服务器回送收到的请求信息，主要用于测试或诊断。
- CONNECT：HTTP 1.1协议中预留给能够将连接改为管道方式的代理服务器。
- OPTIONS：请求查询服务器的性能，或者查询与资源相关的选项和需求。


### HTTP响应报文

HTTP 的响应报文由状态行、响应报头、空行、响应正文组成

Status-Code表示服务器发回的响应状态码

- 100～199：指示信息，收到请求，需要请求者继续执行操作。
- 200～299：请求成功，请求已被成功接收并处理。
- 300～399：重定向，要完成请求必须进行更进一步的操作。
- 400～499：客户端错误，请求有语法错误或请求无法实现。
- 500～599：服务器错误，服务器不能实现合法的请求。


常见的状态码如下。
- • 200 OK：客户端请求成功。
- • 400 Bad Request：客户端请求有语法错误，服务器无法理解。
- • 401 Unauthorized：请求未经授权，这个状态码必须和WWW-Authenticate报头域一起使用。
- • 403 Forbidden：服务器收到请求，但是拒绝提供服务。
- • 500 Internal Server Error：服务器内部错误，无法完成请求。
- • 503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常。


### HTTP消息报头

消息报头分为通用报头、请求报头、响应报头、实体报头等

1. 通用报头

- Date:表示消息产生的日期和时间
- Connection:允许发送指定连接的选项.
- Cache-Control:指定缓存指令,单向,独立.

2. 请求报头

- • Host：请求的主机名，允许多个域名同处一个IP地址，即虚拟主机。
- • User-Agent：发送请求的浏览器类型、操作系统等信息。
- • Accept：客户端可识别的内容类型列表，用于指定客户端接收哪些类型的信息。
- • Accept-Encoding：客户端可识别的数据编码。
- • Accept-Language：表示浏览器所支持的语言类型。
- • Connection：允许客户端和服务器指定与请求/响应连接有关的选项。例如，这时为Keep-Alive则表示
- 保持连接。
- • Transfer-Encoding：告知接收端为了保证报文的可靠传输，对报文采用了什么编码方式。

3. 响应报头

用于服务器传递自身信息的响应。常见的响应报头如下所示。
- • Location：用于重定向接收者到一个新的位置，常用在更换域名的时候。
- • Server：包含服务器用来处理请求的系统信息，与User-Agent请求报头是相对应的。

4. 实体报头

实体报头用来定义被传送资源的信息，其既可用于请求也可用于响应。请求和响应消息都可以传送一
个实体。常见的实体报头如下所示。
- • Content-Type：发送给接收者的实体正文的媒体类型。
- • Content-Lenght：实体正文的长度。
- • Content-Language：描述资源所用的自然语言。
- •  Content-Encoding：实体报头被用作媒体类型的修饰符。它的值指示了已经被应用到实体正文的附加
- 内容的编码，因而要获得Content-Type报头域中所引用的媒体类型，必须采用相应的解码机制。
- • Last-Modified：实体报头用于指示资源的最后修改日期和时间。
- • Expires：实体报头给出响应过期的日期和时间。